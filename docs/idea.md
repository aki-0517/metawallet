
# Metawallet

**シームレスなマルチチェーンの未来を実現する、アイデンティティ主導の統合ウォレット**

## ビジョン
Webの未来はマルチチェーンですが、現在のユーザー体験は断片的で複雑です。一般ユーザーは、複数のアドレスを管理し、ネットワークを切り替え、異なるチェーンのガス代といった概念を理解することに抵抗を感じています。

**Metawallet**は、ブロックチェーンの複雑さを抽象化することでこの問題を解決します。ユーザーのアイデンティティ（`@username`）がそのままユニバーサルなウォレットとして機能する、単一で直感的なインターフェースを提供します。アイデンティティを第一に考えたシームレスなアプローチにより、Metawalletはクロスチェーン金融をメール送信のように簡単なものにします。

---

## 主な機能

* **統合アイデンティティとオンボーディング:**
    * **簡単な新規登録:** ユーザーは**MetaMask Embedded Wallet (Web3Auth) SDK**を使い、メールアドレスだけでサインアップできます。これにより、SolanaとEVMの2つのノンカストディアルウォレットが即座に作成され、シードフレーズを管理する必要がありません。
    * **ユニバーサル・ユーザーネーム:** 登録時に、ユーザーは固有の`@username`（例: `@alice`）を選択します。
    * **SNS & ENS連携:** システムは、そのユーザーネームがSolana Name Service (SNS)とEthereum Name Service (ENS)の両方で一意であることを検証します。登録が完了すると、アプリはユーザーの新しいウォレットを自動的に`alice.sol`と`alice.eth`に関連付け、ユーザーのアイデンティティをオンチェーン活動の核とします。

* **チェーンを抽象化したユーザー体験:**
    * **単一の統合資産残高:** メインダッシュボードには、SolanaとEVMの両ウォレットにある資産（USDC/USDT）の合計価値を**米ドル（USD）で表示した、単一の残高**のみが表示されます。チェーン間の違いはメイン画面からは見えません。
    * **透明性の高い詳細表示:** 「詳細」ボタンをクリックすれば、ユーザーは各チェーンの資産内訳を具体的に確認できます。
    * [クリーンなウォレットのダッシュボードに、大きなUSD残高が一つだけ表示されているイメージ]

* **直感的・比例的な送金機能:**
    * **誰にでも送金可能:** ユーザーは相手の`@username`、または従来のウォレットアドレスを使って資金を送金できます。
    * **自動比例ルーティング:** これがMetawalletの最大の特徴です。ユーザーが他の`@username`に送金する際、米ドルで金額を入力するだけです。プロトコルが自動的に送金者の資産配分（例：70%がSolana、30%がEthereum）を判断し、それぞれのチェーンから相手の対応するウォレットへ比例した金額を送金します。
        * **例:** Aliceが`@bob`に`$100`を送りたいとします。Aliceの資産がSolanaに`$350`、Ethereumに`$150`（70/30の比率）ある場合、Metawalletは自動的に2つのトランザクションを実行します。
            1.  `alice.sol`から`bob.sol`へ`$70`分のUSDCを送金
            2.  `alice.eth`から`bob.eth`へ`$30`分のUSDCを送金
    * このプロセスにより、クロスチェーン送金の複雑さが完全に抽象化され、ユーザーはワンクリックで操作を完了できます。

* **決済体験の深化:**
    * **統合トランザクション履歴:** 全てのチェーン（EVM/Solana）の送受信履歴を、単一のタイムライン形式で表示します。誰に（`@username`）、いつ、いくら送受信したかが一目でわかり、資産の動きを簡単に追跡できます。
    * **連絡先（コンタクト）リスト:** 一度取引した相手の`@username`を自動的に連絡先リストに保存します。リストから相手を選ぶだけで簡単に送金でき、誤送金のリスクも低減します。
---

## Metawalletが各トラックの審査基準をどう満たすか

### トラック1：クロスチェーンの相互運用性と資産移動

Metawalletは、簡単なクロスチェーン資産移動の典型例です。

* **シームレスなユーザー体験:** SolanaとEVMチェーンを単一のアイデンティティと残高に統合することで、ユーザーが手動でネットワークを切り替えたり、複数のウォレットを管理したりする必要性をなくします。
* **新しい資産移動:** **比例送金メカニズム**は、クロスチェーン取引におけるユニークなソリューションです。これは自動化されたユーザーレベルの流動性ルーティングとして機能します。単一の取引のために複雑なブリッジに頼るのではなく、ユーザーがすでに保有する分散資産を活用し、エコシステム間の価値移動を瞬時に、かつ直感的にします。
* **埋め込みウォレットの統合:** オンボーディングからトランザクション署名まで、すべてのフローが**MetaMask Embedded Wallet**によって実現されており、ウォレットの複雑さを完全に抽象化することで、このトラックの核心的要件を満たしています。

***

### トラック2：Solanaの日常的なインパクト：消費者・コミュニティアプリ

Metawalletは暗号資産に詳しくないユーザー向けに設計されており、日常的な金融インタラクションに最適なツールです。

* **Web3の民主化:** メールでのログインと`@username`システムは、参入への最大の障壁を取り除きます。使い慣れたWeb2アプリ（VenmoやPayPayなど）のように感じられますが、その基盤は分散型で高性能な**Solana**ネットワーク上に構築されています。
* **現実世界でのユースケース:** このシンプルさにより、以下のような用途に最適です。
    * **P2Pのチップ（投げ銭）:** クリエイターがどのチェーンを使っているかを気にすることなく、`@username`に簡単にチップを送れます。
    * **ソーシャルリワード:** コミュニティがユーザーIDに直接報酬をエアドロップできます。
    * **小規模商取引:** 小さな店が`@shopname`で支払いを受け付け、その代金はSolanaの高速かつ安価なネットワークで即座に決済されます。
* **ユーザーエンパワーメント:** ユーザーは自身のノンカストディアルウォレットで資産を真に所有し、Web2の利便性とWeb3の自己主権を両立させます。

***

### トラック3：すべての人々のためのプログラマブル・コマース＆DeFi

Metawalletは、複雑な金融ロジックを誰もがシンプルに利用できるようにします。

* **自動化された金融ツール:** **比例送金機能**は、プログラマブルな支払いの一形態です。「現在の資産配分に応じて支払いを分配する」という自動化された戦略が、ワンクリックで実行されます。
* **プログラマブル・コマースの基盤:** このコアロジックは、より強力な一般向けユースケースに拡張できます。
    * **自動割り勘:** グループが`@restaurant`に支払いを行う際、Metawalletは各メンバーの資産配分に応じて、それぞれのウォレットから比例的に資金を引き出すようプログラムできます。
    * **サブスクリプションサービス:** クリエイターが`@creator.pro`でサブスクリプションサービスを設定し、システムが比例ルーティングロジックを使い、毎月自動で料金を引き落とします。
* **「ワンクリック」DeFi:** このアプローチは、ユーザーのポートフォリオ配分を静的なバランスシートではなく、能動的でプログラム可能なツールにすることで、資産管理を簡素化します。

***

### トラック4：SNSの最優秀活用事例

MetawalletはSNSを単なる機能として使うのではなく、アプリケーション全体の根幹をなす柱として活用します。

* **コア・アイデンティティとしてのSNS:** **Solana Name Service (SNS)**は、単に送金を受け取るための見栄えの良い機能ではありません。Metawalletにおいて、`username.sol`はユーザーのユニバーサル・アイデンティティの重要な構成要素であり、登録時に検証され、アイデンティティに基づくすべての取引で使用されます。
* **実用的かつ創造的な統合:**
    * **実用的:** Solanaサイドでの送受信を人間が読める名前に簡素化し、これは一般層への普及に不可欠です。
    * **創造的:** 私たちはSNSをマルチチェーン・アイデンティティシステムのキーとして使用します。`@username`が`.sol`ドメインとその対となる`.eth`ドメインを繋ぎ、チェーンを抽象化するロジックを可能にします。`.sol`ドメインが利用可能であることが、ユーザーのユニバーサルIDを作成するための前提条件となり、SNSはMetawalletエコシステムへのゲートウェイとなります。この深い統合は、単なるアドレス解決を超えた、強力かつ実用的なSNSの活用事例を示しています。


```
名前はmetawallet

ethとsolanaの統合ウォレットです。基本USDC/USDTしか入れないwalletと想定。

userは、登録の際、メアドとuserIDを登録する。

userIDは一位なもので、@exampleと登録する(ens, snsで一意性をバリデーションチェック)と、そのメアドから生成された２つのwallet assress(eth, solana)に,example.ethとexample.solがそれぞれ紐づけられる。

UI上ではチェーンの違いは表示されず、すべてのチェーンで合計した資産額(USD表示)が表示される。(detailボタンがあり、そこでチェーンごとの資産額がわかる)


資産を送金するときは、相手のID or wallet addressに向けて送る。(wallet addressの際は、チェーン選択->address, 送金額入力)

送金の際も,相手のIDで送金するときは、チェーンを抽象化したいので、送る側のチェーンごとの資産分布を見て、すべてのチェーン上で、そのチェーンの総資産額の同じ割合を使って送るようにする。
```